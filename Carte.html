 <!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARTE D'IDENTITE</title>
    <style>
      body {
        border-radius: 18px 18px;
        background-color: #07051ef8;
        transition: background-color 0.4s, color 0.4s;
        text-align: center;
        font-family: Arial, sans-serif;
      }

      h1 {
        margin-bottom: 30px;
      }

      .img-container {
        background-color: white;
        border: 1px dashed blue;
        padding: 8px;
        width: 80px;
        height: 80px;
        margin-bottom: 0;
      }

      table {
        border-radius: 18px 18px;
        border-collapse: collapse;
        overflow: hidden;
        box-shadow: 0px 8px 12px blue ;
        background-color: #07051ef8;
      
        margin: auto;
        margin-bottom: 10rem;
        transition: background-color 0.4s;
        animation: monte 3s ease-in-out;
      }
      @keyframes monte {
        from {
         opacity: 0;
         transform: translateY(80px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      thead th {
        padding: 15px;
        font-size: 1.5rem;
        background-color: #264aabba;
        text-align: center;
        color: #a0df10c3;
      }

      td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: center;
        color: #6d825bc3;
      }

      tr:last-child td {
        border-bottom: none;
      }

      .photo {
        width: 150px;
        height: 100%;
        padding: 0;
        text-align: center;
        vertical-align: middle;
        border-right: 1px solid #ccc;
      }

      img {
        object-fit: cover;
        height: 100%;
        width: 100%;
        overflow: hidden;
      }

      div {
        border: none;
        height: 245px;
        box-sizing: border-box;
      }

      /* Bouton de couleur */
      .color-button {
        margin-top: 20px;
        padding: 10px;
        font-size: 16px;
        border-radius: 18px 18px;
        cursor: pointer;
        border: none;
        background-color: blue;
        color: white;
        box-shadow: 0 4px 8px rgba(0,0,0,0.8);
        width: 50%;
      }

      .color-button:hover {
        background-color: #4444cc;
      }
      #nom,#age,#color,#date,#sexe {
        font-family: Georgia, serif;
        color: #b9e395c3;
      }
    </style>
  </head>
  <body class="container">
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
    <table>
      <thead>
        <tr><th colspan="5">IDENTITY CARDS</th></tr>
      </thead>
      <tr>
        <td rowspan="6" class="photo">
          <div><img id="img"></div>
        </td>
      </tr>
      <tr>
        <td colspan="3"><strong>NOM : </strong></td>
        <td id="nom"></td>
      </tr>
      <tr>
        <td colspan="3"><strong>AGE :</strong></td>
        <td id="age"></td>
      </tr>
      <tr>
        <td colspan="3"><strong>COULEURS</strong></td>
        <td id="color"></td>
      </tr>
      <tr>
        <td colspan="3"><strong>DATE : </strong></td>
        <td id="date"></td>
      </tr>
      <tr>
        <td colspan="3"><strong>SEXE : </strong></td>
        <td id="sexe"></td>
      </tr>
    </table>

    <!-- Bouton de sélection de couleur -->
    <button class="color-button" onclick="colorPicker.click()">COULEUR</button>
    <input type="color" id="colorPicker" style="display: none;" onchange="changeTheme(this.value)">

    <script>
      // Chargement des données
      let img = document.getElementById("img");
      img.src = localStorage.getItem("image");

      document.getElementById("nom").innerHTML = localStorage.getItem("nom") || "";
      document.getElementById("sexe").innerHTML = localStorage.getItem("sexe") || "";
      document.getElementById("date").innerHTML = localStorage.getItem("date") || "";
      document.getElementById("color").innerHTML = localStorage.getItem("couleur") || "";
      document.getElementById("age").innerHTML = `${localStorage.getItem("age") || ""} ans`;

      // Fonction pour appliquer la couleur choisie
      function changeTheme(color) {
        document.body.style.backgroundColor = color;
        document.querySelector("table").style.backgroundColor = lighten(color, 40);

        // Changer texte selon luminosité
        const luminance = getLuminance(color);
        document.body.style.color = luminance < 128 ? 'white' : 'black';
        const tds = document.querySelectorAll("td");
        tds.forEach(td => td.style.color = luminance < 128 ? 'white' : 'black');
      }

      // Obtenir la luminance d'une couleur hexadécimale
      function getLuminance(hex) {
        const c = hex.substring(1);
        const rgb = parseInt(c, 16);
        const r = (rgb >> 16) & 0xff;
        const g = (rgb >> 8) & 0xff;
        const b = rgb & 0xff;
        return 0.299 * r + 0.587 * g + 0.114 * b;
      }

      // Éclaircir une couleur
      function lighten(hex, percent) {
        const num = parseInt(hex.slice(1), 16);
        let r = (num >> 16) + percent;
        let g = ((num >> 8) & 0x00FF) + percent;
        let b = (num & 0x0000FF) + percent;

        r = Math.min(255, r);
        g = Math.min(255, g);
        b = Math.min(255, b);

        return `rgb(${r}, ${g}, ${b})`;
      }
    </script>
  </body>
  </html>
